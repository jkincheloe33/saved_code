{"version":3,"file":"checkbox.dev.js","sources":["../../node_modules/@accessible/visually-hidden/src/index.tsx","../../node_modules/@react-hook/latest/src/index.tsx","../../node_modules/@react-hook/switch/src/index.tsx","../../node_modules/clsx/dist/clsx.m.js","../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\nexport const VisuallyHidden = ({children}: VisuallyHiddenProps) =>\n  React.cloneElement(\n    children,\n    Object.assign({}, children.props, {\n      style: Object.assign({}, visuallyHidden, children.props.style),\n    })\n  )\n\nexport const visuallyHidden = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: 1,\n  width: 1,\n  margin: -1,\n  padding: 0,\n  overflow: 'hidden',\n  position: 'absolute',\n}\n\nexport interface VisuallyHiddenProps {\n  children: React.ReactElement | JSX.Element\n}\n\nif (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') {\n  VisuallyHidden.displayName = 'VisuallyHidden'\n}\n","import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  React.useEffect(() => {\n    storedValue.current = current\n  })\n  return storedValue\n}\n\nexport default useLatest\n","import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\n/**\n * A hook for creating controlled toggles with on, off, and toggle callbacks.\n * This is extremely useful for creating controlled inputs for components like Checkbox.\n *\n * @param defaultValue Sets the default value of the switch\n * @param controlledValue Sets the controlled value of the switch, which will override\n *  the defaultValue\n * @param onChange A callback invoked whenever toggle callbacks that change state are invoked\n */\nfunction useSwitch(\n  defaultValue = false,\n  controlledValue?: boolean,\n  onChange: (value: boolean) => any = noop\n) {\n  const [current, setCurrent] = React.useState(controlledValue ?? defaultValue)\n  const storedOnChange = useLatest(onChange)\n\n  React.useEffect(() => {\n    if (typeof controlledValue === 'boolean') {\n      setCurrent(controlledValue)\n    }\n  }, [controlledValue])\n\n  const toggle = React.useCallback(() => {\n    setCurrent(!current)\n    storedOnChange.current(!current)\n  }, [storedOnChange, current])\n\n  return [\n    controlledValue ?? current,\n    Object.assign(toggle, {\n      on: React.useCallback(() => {\n        setCurrent(true)\n        if (!current) storedOnChange.current(true)\n      }, [storedOnChange, current]),\n      off: React.useCallback(() => {\n        setCurrent(false)\n        if (current) storedOnChange.current(false)\n      }, [storedOnChange, current]),\n    }),\n  ] as const\n}\n\nfunction noop() {}\n\nexport default useSwitch\n","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","import * as React from 'react'\nimport {VisuallyHidden} from '@accessible/visually-hidden'\nimport useSwitch from '@react-hook/switch'\nimport clsx from 'clsx'\n\nconst CheckboxContext = React.createContext<CheckboxContextValue>({\n  checked: false,\n  check: noop,\n  uncheck: noop,\n  toggle: noop,\n  focused: false,\n  disabled: false,\n})\n\nexport const useCheckbox = () =>\n  React.useContext<CheckboxContextValue>(CheckboxContext)\n\nexport const Checkbox = React.forwardRef<HTMLInputElement, CheckboxProps>(\n  (\n    {\n      checked: controlledChecked,\n      defaultChecked,\n      disabled = false,\n      onChange,\n      onFocus,\n      onBlur,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [checked, toggle] = useSwitch(\n      defaultChecked,\n      controlledChecked,\n      onChange\n    )\n    const [focused, setFocused] = React.useState<boolean>(false)\n    const context = React.useMemo(\n      () => ({\n        checked: checked as boolean,\n        check: disabled ? noop : toggle.on,\n        uncheck: disabled ? noop : toggle.off,\n        toggle: disabled ? noop : toggle,\n        focused,\n        disabled,\n      }),\n      [checked, focused, disabled, toggle]\n    )\n\n    return (\n      <CheckboxContext.Provider value={context}>\n        <VisuallyHidden>\n          <input\n            type='checkbox'\n            checked={checked}\n            ref={ref}\n            onChange={() => {\n              toggle()\n            }}\n            onFocus={(e) => {\n              setFocused(true)\n              onFocus?.(e)\n            }}\n            onBlur={(e) => {\n              setFocused(false)\n              onBlur?.(e)\n            }}\n            disabled={disabled}\n            {...props}\n          />\n        </VisuallyHidden>\n\n        {children}\n      </CheckboxContext.Provider>\n    )\n  }\n)\n\nexport function Checked({children}: CheckedProps) {\n  return useCheckbox().checked ? (\n    <React.Fragment>{children}</React.Fragment>\n  ) : null\n}\n\nexport function Unchecked({children}: UncheckedProps) {\n  return !useCheckbox().checked ? (\n    <React.Fragment>{children}</React.Fragment>\n  ) : null\n}\n\nexport function Checkmark({\n  children,\n  checkedClass,\n  uncheckedClass,\n  checkedStyle,\n  uncheckedStyle,\n}: CheckmarkProps) {\n  const {checked} = useCheckbox()\n  return React.cloneElement(children, {\n    className:\n      clsx(children.props.className, checked ? checkedClass : uncheckedClass) ||\n      void 0,\n    style: Object.assign(\n      {},\n      children.props.style,\n      checked ? checkedStyle : uncheckedStyle\n    ),\n  })\n}\n\nexport function Toggle({children}: ToggleProps) {\n  const {toggle} = useCheckbox()\n  return React.cloneElement(children, {\n    onClick: (e: React.MouseEvent<HTMLElement>) => {\n      children.props.onClick?.(e)\n      toggle()\n    },\n  })\n}\n\nfunction noop() {}\n\nexport interface CheckboxProps\n  extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange'> {\n  checked?: boolean\n  defaultChecked?: boolean\n  disabled?: boolean\n  onChange?: (checked: boolean) => any\n  onFocus?: (event: React.FocusEvent) => any\n  onBlur?: (event: React.FocusEvent) => any\n  children?: React.ReactNode\n}\n\nexport interface CheckedProps {\n  children: React.ReactNode\n}\n\nexport interface UncheckedProps {\n  children: React.ReactNode\n}\n\nexport interface CheckmarkProps {\n  checkedClass?: string\n  uncheckedClass?: string\n  checkedStyle?: React.CSSProperties\n  uncheckedStyle?: React.CSSProperties\n  children: JSX.Element | React.ReactElement\n}\n\nexport interface ToggleProps {\n  children: JSX.Element | React.ReactElement\n}\n\nexport interface CheckboxContextValue {\n  checked: boolean\n  check: () => void\n  uncheck: () => void\n  toggle: () => void\n  focused: boolean\n  disabled: boolean\n}\n\n/* istanbul ignore next */\nif (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') {\n  Checkbox.displayName = 'Checkbox'\n  Checked.displayName = 'Checked'\n  Unchecked.displayName = 'Unchecked'\n  Toggle.displayName = 'Toggle'\n}\n"],"names":["VisuallyHidden","children","React","props","style","visuallyHidden","border","clip","height","width","margin","padding","overflow","position","process","displayName","useLatest","current","storedValue","useSwitch","defaultValue","controlledValue","onChange","noop","setCurrent","storedOnChange","toggle","on","off","toVal","mix","k","y","str","Array","isArray","length","i","tmp","x","arguments","CheckboxContext","checked","check","uncheck","focused","disabled","useCheckbox","Checkbox","ref","controlledChecked","defaultChecked","onFocus","onBlur","setFocused","context","e","Checked","React.Fragment","Unchecked","Checkmark","checkedClass","uncheckedClass","checkedStyle","uncheckedStyle","className","clsx","Toggle","onClick"],"mappings":"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"}