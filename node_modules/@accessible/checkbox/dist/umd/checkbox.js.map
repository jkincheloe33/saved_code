{"version":3,"file":"checkbox.js","sources":["../../node_modules/@react-hook/switch/src/index.tsx","../../node_modules/clsx/dist/clsx.m.js","../../src/index.tsx","../../node_modules/@accessible/visually-hidden/src/index.tsx","../../node_modules/@react-hook/latest/src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\n/**\n * A hook for creating controlled toggles with on, off, and toggle callbacks.\n * This is extremely useful for creating controlled inputs for components like Checkbox.\n *\n * @param defaultValue Sets the default value of the switch\n * @param controlledValue Sets the controlled value of the switch, which will override\n *  the defaultValue\n * @param onChange A callback invoked whenever toggle callbacks that change state are invoked\n */\nfunction useSwitch(\n  defaultValue = false,\n  controlledValue?: boolean,\n  onChange: (value: boolean) => any = noop\n) {\n  const [current, setCurrent] = React.useState(controlledValue ?? defaultValue)\n  const storedOnChange = useLatest(onChange)\n\n  React.useEffect(() => {\n    if (typeof controlledValue === 'boolean') {\n      setCurrent(controlledValue)\n    }\n  }, [controlledValue])\n\n  const toggle = React.useCallback(() => {\n    setCurrent(!current)\n    storedOnChange.current(!current)\n  }, [storedOnChange, current])\n\n  return [\n    controlledValue ?? current,\n    Object.assign(toggle, {\n      on: React.useCallback(() => {\n        setCurrent(true)\n        if (!current) storedOnChange.current(true)\n      }, [storedOnChange, current]),\n      off: React.useCallback(() => {\n        setCurrent(false)\n        if (current) storedOnChange.current(false)\n      }, [storedOnChange, current]),\n    }),\n  ] as const\n}\n\nfunction noop() {}\n\nexport default useSwitch\n","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","import * as React from 'react'\nimport {VisuallyHidden} from '@accessible/visually-hidden'\nimport useSwitch from '@react-hook/switch'\nimport clsx from 'clsx'\n\nconst CheckboxContext = React.createContext<CheckboxContextValue>({\n  checked: false,\n  check: noop,\n  uncheck: noop,\n  toggle: noop,\n  focused: false,\n  disabled: false,\n})\n\nexport const useCheckbox = () =>\n  React.useContext<CheckboxContextValue>(CheckboxContext)\n\nexport const Checkbox = React.forwardRef<HTMLInputElement, CheckboxProps>(\n  (\n    {\n      checked: controlledChecked,\n      defaultChecked,\n      disabled = false,\n      onChange,\n      onFocus,\n      onBlur,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [checked, toggle] = useSwitch(\n      defaultChecked,\n      controlledChecked,\n      onChange\n    )\n    const [focused, setFocused] = React.useState<boolean>(false)\n    const context = React.useMemo(\n      () => ({\n        checked: checked as boolean,\n        check: disabled ? noop : toggle.on,\n        uncheck: disabled ? noop : toggle.off,\n        toggle: disabled ? noop : toggle,\n        focused,\n        disabled,\n      }),\n      [checked, focused, disabled, toggle]\n    )\n\n    return (\n      <CheckboxContext.Provider value={context}>\n        <VisuallyHidden>\n          <input\n            type='checkbox'\n            checked={checked}\n            ref={ref}\n            onChange={() => {\n              toggle()\n            }}\n            onFocus={(e) => {\n              setFocused(true)\n              onFocus?.(e)\n            }}\n            onBlur={(e) => {\n              setFocused(false)\n              onBlur?.(e)\n            }}\n            disabled={disabled}\n            {...props}\n          />\n        </VisuallyHidden>\n\n        {children}\n      </CheckboxContext.Provider>\n    )\n  }\n)\n\nexport function Checked({children}: CheckedProps) {\n  return useCheckbox().checked ? (\n    <React.Fragment>{children}</React.Fragment>\n  ) : null\n}\n\nexport function Unchecked({children}: UncheckedProps) {\n  return !useCheckbox().checked ? (\n    <React.Fragment>{children}</React.Fragment>\n  ) : null\n}\n\nexport function Checkmark({\n  children,\n  checkedClass,\n  uncheckedClass,\n  checkedStyle,\n  uncheckedStyle,\n}: CheckmarkProps) {\n  const {checked} = useCheckbox()\n  return React.cloneElement(children, {\n    className:\n      clsx(children.props.className, checked ? checkedClass : uncheckedClass) ||\n      void 0,\n    style: Object.assign(\n      {},\n      children.props.style,\n      checked ? checkedStyle : uncheckedStyle\n    ),\n  })\n}\n\nexport function Toggle({children}: ToggleProps) {\n  const {toggle} = useCheckbox()\n  return React.cloneElement(children, {\n    onClick: (e: React.MouseEvent<HTMLElement>) => {\n      children.props.onClick?.(e)\n      toggle()\n    },\n  })\n}\n\nfunction noop() {}\n\nexport interface CheckboxProps\n  extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange'> {\n  checked?: boolean\n  defaultChecked?: boolean\n  disabled?: boolean\n  onChange?: (checked: boolean) => any\n  onFocus?: (event: React.FocusEvent) => any\n  onBlur?: (event: React.FocusEvent) => any\n  children?: React.ReactNode\n}\n\nexport interface CheckedProps {\n  children: React.ReactNode\n}\n\nexport interface UncheckedProps {\n  children: React.ReactNode\n}\n\nexport interface CheckmarkProps {\n  checkedClass?: string\n  uncheckedClass?: string\n  checkedStyle?: React.CSSProperties\n  uncheckedStyle?: React.CSSProperties\n  children: JSX.Element | React.ReactElement\n}\n\nexport interface ToggleProps {\n  children: JSX.Element | React.ReactElement\n}\n\nexport interface CheckboxContextValue {\n  checked: boolean\n  check: () => void\n  uncheck: () => void\n  toggle: () => void\n  focused: boolean\n  disabled: boolean\n}\n\n/* istanbul ignore next */\nif (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') {\n  Checkbox.displayName = 'Checkbox'\n  Checked.displayName = 'Checked'\n  Unchecked.displayName = 'Unchecked'\n  Toggle.displayName = 'Toggle'\n}\n","import * as React from 'react'\n\nexport const VisuallyHidden = ({children}: VisuallyHiddenProps) =>\n  React.cloneElement(\n    children,\n    Object.assign({}, children.props, {\n      style: Object.assign({}, visuallyHidden, children.props.style),\n    })\n  )\n\nexport const visuallyHidden = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: 1,\n  width: 1,\n  margin: -1,\n  padding: 0,\n  overflow: 'hidden',\n  position: 'absolute',\n}\n\nexport interface VisuallyHiddenProps {\n  children: React.ReactElement | JSX.Element\n}\n\nif (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') {\n  VisuallyHidden.displayName = 'VisuallyHidden'\n}\n","import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  React.useEffect(() => {\n    storedValue.current = current\n  })\n  return storedValue\n}\n\nexport default useLatest\n"],"names":["noop","toVal","mix","k","y","str","Array","isArray","length","tmp","x","i","arguments","VisuallyHidden","children","React","_extends","props","style","visuallyHidden","border","clip","height","width","margin","padding","overflow","position","CheckboxContext","checked","check","uncheck","toggle","focused","disabled","useCheckbox","Checkbox","ref","controlledChecked","defaultChecked","onChange","onFocus","onBlur","defaultValue","controlledValue","current","setCurrent","storedOnChange","storedValue","useLatest","on","off","useSwitch","setFocused","context","__reactCreateElement__","Provider","value","type","e","React.Fragment","checkedClass","uncheckedClass","checkedStyle","uncheckedStyle","className","clsx","onClick"],"mappings":"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"}